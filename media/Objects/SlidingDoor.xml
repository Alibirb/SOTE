<?xml version="1.0" encoding="UTF-8"?>
<controlledObject name="Door" animation="true" defaultState="closed">
	<geometry source="SlidingDoor.osgt"/>
	<onMessage message="toggle">
		void onMessage(ControlledObject@ self)
		{
			if(self.getStateName() == "closed")
				self.changeState("open");
			else
				self.changeState("closed");
		}
	</onMessage>
	<state name="open">
		<onEnter>
			void onEnter(ControlledObject@ self)
			{
				self.playAnimation("open");
			}
		</onEnter>
	</state>
	<state name="closed">
		<onEnter>
			void onEnter(ControlledObject@ self)
			{
				self.playAnimation("close");
			}
		</onEnter>
	</state>
</controlledObject>
