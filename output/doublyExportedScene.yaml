dataType: Level
children:
  - dataType: GameObject
    physicsBodyGeneration: none
    geometry: LightAndDark/Skybox.osgt
    position: [0, 0, 0]
    rotation: [0, 0, 0, 1]
  - dataType: GameObject
    mass: 0
    geometry: LightAndDark/Level0x0.osgt
    physicsBodyGeneration: triangleMeshShape
    position: [0, 0, 0]
    rotation: [0, 0, 0, 1]
  - dataType: GameObject
    mass: 0
    physicsBodyGeneration: triangleMeshShape
    geometry: LightAndDark/LightCrystal.osgt
    position: [0, 0, 25]
    rotation: [0, 0, 0, 1]
    attachments:
      - dataType: Light
        constantAttenuation: 9.9999998245167e-14
        quadraticAttenuation: 1.000000003627494e-15
        linearAttenuation: 1.000000003627494e-15
        physicsBodyGeneration: none
        position: [0, 0, 0]
        rotation: [0, 0, 0, 1]
        ambient: [1, 1, 1, 1]
        specular: [1, 1, 1, 1]
        diffuse: [1, 1, 1, 1]
  - dataType: Player
    capsuleHeight: 1.25
    mass: 0
    maxHealth: 100
    maxSpeed: 6
    capsuleRadius: 0.4000000059604645
    geometry: LightAndDark/Malhela.osgt
    physicsBodyGeneration: none
    name: Malhela
    team: Player
    position: [27.03654, 24.88564, 1.528182]
    rotation: [0, 0, 0, 1]
    resistances:
      dataType: unordered_map
      PURE_MAGIC: 0
      COLD: 0
      ACID: 0
      FIRE: 0
    stateMachine:
      dataType: StateMachine
      defaultState: idle
      states:
        idle:
          dataType: State
          name: idle
          functions:
            onUpdate: |
              void onUpdate(Fighter@ self)
              {
              	//if(self.getClosestEnemy() !is null)
              	//	self.useBestAttackOn(self.getClosestEnemy());
                //else
              	//	print("No nearby enemies");
              }
              
        attacking:
          dataType: State
          name: attacking
          functions:
            onUpdate: |
              void onUpdate(Fighter@ self)
              {
                if(self.getCurrentAttack().done())
                	self.returnToPreviousState();
              }
              
    attacks:
      - dataType: Attack
        duration: 2
        damages:
          - dataType: damage
            amount: 2
            type: PURE_MAGIC